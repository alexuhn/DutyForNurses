# 10/31 회의 내용

# 1. 협의 사항

## 1) 간호사의 grade 표시

### 0: 저연차 간호사

### 1: 중연차(??) 간호사

### 2: 고연차 간호사





# 2. 제작 예정

## 1. DB 조회 함수

### 1) get_nurse_info_dict (가칭)

역할: DB에서 간호사의 profile을 조회 후 딕셔너리 형태로 반환함.

반환값: 딕셔너리. 

Key: `nurse_pk`

value: nurse_pk, grade, team_number, off 정보를 담은 리스트.  

**반환값 예시**

```
example_dict = dict(
	1: [1, 0, 2, 0],
	5: [5, 0, 1, 0],
	7: [7, 0, 1, 0],
    ......
)
```



### 2) get_last_months_schedule(가칭)

역할: DB에서 '지난 30일간 전체 근무 정보를 조회 후 딕셔너리로 반환.

반환: 딕셔너리

Key: nurse_pk

Value: 각 간호사별 한 달 전체 근무 일정

**반환값 예시**

```python
example_dict = dict(
	1: [0, 0, 1, 1, 2, 3, 3, 0, 0, 1, 2, 3, 3, 3, 0, ......],
	3: [0, 0, 1, 1, 2, 3, 3, 0, 0, 1, 2, 3, 3, 3, 0, ......],
	5: [0, 0, 1, 1, 2, 3, 3, 0, 0, 1, 2, 3, 3, 3, 0, ......],
    ......
)
```



## 2. 스케쥴 제작 함수

### 1) parse_nurse_info_by_team(가칭)

역할: 1-1), 1-2) 에서 가져온 내용들을 기존에 사용하던 `nurse_info` 형태로 변환. 

반환값: 딕셔너리.

key는 팀 번호, value는 팀별 간호사들의 pk.

**반환값 예시**

```python
example_dict = dict(
	1: [1, 2, 3, 4],
    2: [5, 6, 9, 11],
    ......
)
```



### 2) check_validation(가칭)

현재 필요한 기능: grade 조건에 맞게 함수가 작성되었는지 확인하는 함수.

입력값: validation_checker_bit(비트마스킹 형태로 구현 예정)

반환값: `True` or `False`



# 3. 개선 예정

1. 병동 전체 스케쥴 관리를 위해 make_monthly_schedule.py 자체의 로직 개선.

2. 보다 세밀하고 인간적인 스케쥴 제작을 위해 `check_priority` 함수의 개선.

   -> 발표 전에 정확한 확률값 등을 ppt 등으로 작성할 예정

3. 함수: 변수명 통일 및 가시성 강화. 주석 작업.

